{"version":3,"sources":["../../src/pages/edit-event-member/edit-event-member.module.ts","../../src/pages/edit-event-member/edit-event-member.ts"],"names":[],"mappings":"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","file":"43.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EditEventMemberPage } from './edit-event-member';\nimport { SecurityProvider } from '../../providers/security/security';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    EditEventMemberPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(EditEventMemberPage),\n\tTranslateModule.forChild({})\n  ],\n   providers:[SecurityProvider]\n})\nexport class EditEventMemberPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-event-member/edit-event-member.module.ts","import { Component } from \"@angular/core\";\nimport { IonicPage, NavController, NavParams } from \"ionic-angular\";\nimport { Observable } from \"rxjs/Rx\";\nimport { SecurityProvider } from \"../../providers/security/security\";\nimport { AlertController } from \"ionic-angular\";\n\n/**\n * Generated class for the EditEventMemberPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: \"page-edit-event-member\",\n  templateUrl: \"edit-event-member.html\"\n})\nexport class EditEventMemberPage {\n  data;\n  extradata;\n  eventMembers;\n  a;\n  allUser2;\n  allUser;\n  member_id = [];\n  new_members = [];\n  eventData;\n  event_id;\n  member = [];\n  constructor(\n    public alertCtrl: AlertController,\n    public securityProvider: SecurityProvider,\n    public navCtrl: NavController,\n    public navParams: NavParams\n  ) {\n    this.eventData = this.navParams.get(\"eventData\");\n    console.log(\"members\" + JSON.stringify(this.eventData));\n    this.member_id = this.eventData.members;\n    this.event_id = this.eventData._id;\n    this.extradata = this.eventData.members;\n    this.eventMembers = this.eventData.members;\n  }\n\n  ionViewDidLoad() {\n    //alert(JSON.stringify( this.extradata));\n    console.log(\"ionViewDidLoad CreateeventmemberPage\");\n    console.log(\"ionViewDidLoad ImportcontactsPage\");\n    var a = localStorage[\"user_id\"];\n\tvar b = localStorage['private'];\n    this.securityProvider.AllUserFriend(a, b).subscribe(data => {\n      var a = data;\n      this.allUser = this.getOrderData(a.allUsers);\n      this.allUser2 = this.getOrderData(a.allUsers);\n\n      for (var i = 0; i < this.allUser.length; i++) {\n        if (\n          this.extradata.some(element =>\n            element.member_id.includes(this.allUser[i]._id)\n          )\n        ) {\n          this.allUser[i].checkStatus = true;\n        }\n      }\n      // this.onCheck();\n    }),\n      error => {};\n  }\n\n  /*   checkExisting(value){\n\n\t  return this.extradata.some(element => element.member_id.includes(value));\n\t\t  \n\t  \n  } */\n\n  checkExisting(index, value) {\n    // alert(index);\n    if (this.extradata.some(element => element.member_id.includes(value))) {\n      this.allUser[index].checkStatus = !this.allUser[index].checkStatus;\n    }\n  }\n  getOrderData(data) {\n    var a = data.sort(function(x, z) {\n      return x.username < z.username ? -1 : 1;\n    });\n    return a;\n  }\n\n  getItems(ev: any) {\n    var val = ev.target.value;\n\n    if (val && val.trim() != \"\") {\n      this.allUser = this.allUser.filter(p => {\n        if (p.username) {\n          return p.username.toLowerCase().indexOf(val.toLowerCase()) > -1;\n        }\n      });\n    } else {\n      this.allUser = this.allUser2;\n    }\n  }\n  onCheckmember(index, a) {\n    this.allUser[index].checkStatus = !this.allUser[index].checkStatus;\n    this.onCheck();\n  }\n\n  onremovemember(user) {\n    user.checkStatus = false;\n    let index = this.findWithAttr(this.allUser, \"_id\", user.member_id);\n    if (index == -1) {\n      index = this.findWithAttr(this.allUser, \"member_id\", user.member_id);\n    }\n    //alert(index);\n    this.allUser[index].checkStatus = false;\n    //alert(JSON.stringify(this.allUser[index]));\n    this.onCheck();\n    this.onRemove(user);\n  }\n\n  findWithAttr(array, attr, value) {\n    for (var i = 0; i < array.length; i += 1) {\n      if (array[i][attr] === value) {\n        return i;\n      }\n    }\n    return -1;\n  }\n  onCheck() {\n    if (this.allUser) {\n      let data = this.allUser.filter(arg => arg.checkStatus == true);\n      if (data.length > 0) {\n        this.extradata = data;\n\n        console.log(\"da\" + JSON.stringify(data));\n      } else {\n        this.extradata = [];\n      }\n    }\n  }\n\n  onRemove(user) {\n    //alert(JSON.stringify(this.allUser));\n    if (this.extradata) {\n      let data = this.extradata.filter(arg => arg._id != user._id);\n      if (data.length > 0) {\n        //alert('here');\n        this.eventMembers = data;\n        //alert(this.extradata);\n\n        console.log(\"da\" + JSON.stringify(data));\n      } else {\n        this.extradata = [];\n      }\n    }\n  }\n\n  onAddMembers() {\n    console.log(\"member\" + JSON.stringify(this.extradata));\n    for (let a of this.extradata) {\n      var b = a._id;\n      var p;\n\t  var k;\n      if (a.profileImage) {\n        p = a.profileImage;\n      } else {\n       p = null;\n      }\n\n      let index = this.findWithAttr(this.eventMembers, \"email\", a.email);\n\t  \t // alert(index);\n      let e = a.email;\n      let u = a.username;\n      if (index != -1) {\n        if (this.eventMembers[index].status) {\n          if (this.eventMembers[index].status == \"active\") {\n             k = \"pending\";\n          } else {\n             k = this.eventMembers[index].status;\n          }\n        } else {\n            k = \"pending\";\n        }\n      } else {\n          k = \"pending\";\n      }\n      this.new_members.push({\n        member_id: b,\n        profileImage: p,\n        email: e,\n        username: u,\n        status: k\n      });\n    }\n    var a = {\n      event_id: this.event_id,\n      members: this.new_members\n    };\n    console.log(JSON.stringify(\"member_data\" + a));\n    this.securityProvider.addMembers(a).subscribe(data => {\n      var a = data;\n      this.navCtrl.pop();\n    }),\n      error => {};\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-event-member/edit-event-member.ts"],"sourceRoot":""}