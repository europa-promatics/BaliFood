{"version":3,"sources":["../../src/pages/first/first.module.ts","../../src/pages/first/first.ts"],"names":[],"mappings":"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","file":"38.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { FirstPage } from './first';\nimport { Facebook, FacebookLoginResponse } from '@ionic-native/facebook';\nimport { SecurityProvider } from '../../providers/security/security';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\n\n@NgModule({\n  declarations: [\n    FirstPage,\n  ],\n  imports: [HttpClientModule,\n    IonicPageModule.forChild(FirstPage),   TranslateModule.forChild(),\n  ],\n  providers:[SecurityProvider,Facebook]\n})\nexport class FirstPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/first/first.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams ,Config} from 'ionic-angular';\nimport { Facebook, FacebookLoginResponse } from '@ionic-native/facebook';\nimport {Observable} from 'rxjs/Rx';\nimport { SecurityProvider } from '../../providers/security/security';\nimport { TabsPage } from '../tabs/tabs';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Events ,LoadingController, AlertController, Platform} from 'ionic-angular';\n\n@IonicPage()\n@Component({\n  selector: 'page-first',\n  templateUrl: 'first.html',\n    providers: [\n\tFacebook\n  ]\n})\n\n\nexport class FirstPage {\n  FB_APP_ID: number = 209490229604239;\n  constructor(public config: Config,public securityProvider: SecurityProvider, public navCtrl: NavController, public navParams: NavParams, private fb: Facebook, private translate: TranslateService,  public loadingCtrl: LoadingController, public alertCtrl: AlertController, public platform: Platform) {\n    this.fb.browserInit(this.FB_APP_ID, \"v2.11\");\n\tthis.showBanner();\n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad FirstPage');\n  }\n  login() {\n    this.navCtrl.push('LoginPage')\n  }\n  signup() {\n    this.navCtrl.push('SignupPage')\n  }\n    showBanner() {\n //this.fb_login();\n        \n \n    }\n\nfb_logout() {\nthis.fb.getLoginStatus().then( data=>{\n\tif (data.status =='connected'){\n\t  this.fb.logout()\n\t}\n  }\n)\n}\n  fb_login() {\n\tthis.fb_logout();\n\tlet loading = this.loadingCtrl.create({content: 'Please wait...'});\n    let permissions = new Array();\n    permissions = [\"public_profile\",\"email\", \"user_friends\"];\n    this.fb.login(permissions)\n    .then((response)=>{\n      loading.dismiss();\n      let userId = response.authResponse.userID;\n      let params = new Array();\n      this.fb.api(\"/me?fields=name,gender,email,id,friends\", params)\n      .then((user)=>{\n\t\tlet alert = this.alertCtrl.create({\n\t\t\ttitle: 'Alert!',\n\t\t\tsubTitle: JSON.stringify(user),\n\t\t\tbuttons: ['OK']\n\t\t  });\n\t\t  //alert.present();\n\t  \n        user.picture = \"https://graph.facebook.com/\" + userId + \"/picture?type=large\";\n        this.facebook(user.email,user.name,userId,user.picture)\n      })\n    },(error)=>{\n      let alert = this.alertCtrl.create({\n        title: 'Alert!',\n        subTitle: JSON.stringify(error),\n        buttons: ['OK']\n      });\n      alert.present();\n    }) \n  }\n\n  facebook(user_email, user_name, userId, user_picture) {\n\t // alert('here');\n    var login_fb = {\n      email: user_email,\n      user_name: user_name,\n      userId: userId,\n      user_picture: user_picture\n    }\n    this.securityProvider.login_fb_service(login_fb)\n      .subscribe(data => {\n        var a = data;\n\t\tconsole.log(a);\n        if (a.userdata) {\n          var b = a.userdata;\n          var c = b.email;\n          localStorage['email'] = c;\n          localStorage['user_id'] = b._id;\n          localStorage['username'] = b.username;\n           this.navCtrl.setRoot(TabsPage);\n        }\n\n\n      }),\n      error => {\n\t\t   let alert = this.alertCtrl.create({\n        title: 'Alert!',\n        subTitle: JSON.stringify(error),\n        buttons: ['OK']\n      });\n      alert.present();\n\t  }\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/first/first.ts"],"sourceRoot":""}