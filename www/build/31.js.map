{"version":3,"sources":["../../src/pages/signup/signup.module.ts","../../src/pages/signup/signup.ts"],"names":[],"mappings":"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","file":"31.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SignupPage } from './signup';\nimport {HttpClientModule} from '@angular/common/http';\nimport { SecurityProvider } from '../../providers/security/security';\nimport { FCM } from '@ionic-native/fcm';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    SignupPage,\n  ],\n  imports: [HttpClientModule,\n    IonicPageModule.forChild(SignupPage),\n\tTranslateModule.forChild({})\n  ],\n    providers:[SecurityProvider,FCM]\n})\nexport class SignupPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams ,AlertController,Platform} from 'ionic-angular';\nimport {Observable} from 'rxjs/Rx';\nimport { SecurityProvider } from '../../providers/security/security';\nimport { TabsPage } from '../tabs/tabs';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { FCM } from '@ionic-native/fcm';\n\n/**\n * Generated class for the SignupPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-signup',\n  templateUrl: 'signup.html',\n})\nexport class SignupPage {\n  signup\n  remembers\n  salonregister: FormGroup;\n  confirmPassword\n  userRegisterFirstTime;\n  token\n  constructor( public platform:Platform, private fcm: FCM, public formBuilder: FormBuilder, public alertCtrl: AlertController, public securityProvider: SecurityProvider, public navCtrl: NavController) {\n    this.signup = {}\n\n    let emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\n    let nameReg = /^([a-zA-Z0-9._-]){2,30}$/;\n    let phoneRegEx = /^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/;\n    this.salonregister = formBuilder.group({\n      name: ['', Validators.compose([])],\n      useremail: ['', Validators.compose([\n        Validators.pattern(emailRegex), Validators.required\n      ])], \n      pass: ['', Validators.compose([Validators.maxLength(12), Validators.minLength(3), Validators.pattern(''), Validators.required])],\n      cpass: ['', Validators.compose([Validators.maxLength(12), Validators.minLength(3), Validators.pattern(''), Validators.required])],\n      // contact: ['', Validators.compose([\n      //   Validators.pattern(phoneRegEx), Validators.required\n      // ])]\n      // contact: ['', Validators.compose([Validators.maxLength(10), Validators.minLength(10), Validators.pattern(''), Validators.required])],\n\n    });\n  }\n\n  ionViewDidLoad() {\n    this.fcm.subscribeToTopic('Balifood');\n    console.log('ionViewDidLoad SignupPage');\n  }\n\n  onSignup() {\n      this.platform.ready().then(() => {\n       this.fcm.getToken().then(token=>{\n       this.token = token;\n        if (this.token) {\n              var a=this.signup.contactNumber.replace(/\\D/g,'');\n    if (this.confirmPassword == this.signup.password) {\n      this.signup = {\n        username: this.signup.username,\n        email: this.signup.email.toLowerCase(),\n        password: this.signup.password,\n        contactNumber: a,\n        deviceToken:this.token,\n      }\n      if (this.remembers == true || this.remembers == 'true' || this.remembers == \"true\") {\n        this.securityProvider.signupopen(this.signup)\n          .subscribe(data => {\n            var a = data;\n\n            if (a.success == 'true' || a.success == true || a.success == \"true\") {\n              var b = a.userData;\n              var email = b.email;\n              var password = b.password;\n              this.userRegisterFirstTime = 1;\n              // this.navCtrl.push('LoginPage');\n              this.onlogin(email, password)\n            } else {\n              let alert = this.alertCtrl.create({\n                title: 'Alert!',\n                subTitle: a.msg,\n                buttons: ['OK']\n              });\n              alert.present();\n            }\n            console.log(\"data\" + JSON.stringify(data));\n          }),\n          error => {\n            let alert = this.alertCtrl.create({\n              title: 'Alert!',\n              subTitle: 'Something went wrong!',\n              buttons: ['OK']\n            });\n            alert.present();\n          }\n      } else {\n        let alert = this.alertCtrl.create({\n          title: 'Alert!',\n          subTitle: 'Please accept terms & conditions',\n          buttons: ['OK']\n        });\n        alert.present();\n      }\n    } else {\n      let alert = this.alertCtrl.create({\n        title: 'Alert!',\n        subTitle: 'Password not matched!',\n        buttons: ['OK']\n      });\n      alert.present();\n    }\n        }\n})\n      })\n  \n\n\n\n  } \n  \n  \n  onTerms() {\n    this.navCtrl.push('TermsConditionsPage');\n  }\n  onlogin(email, password) {\n    var login = {\n      email: email,\n      password: password,\n      deviceToken:this.token,\n    }\n    this.securityProvider.loginopen(login)\n      .subscribe(data => {\n        console.log(\"data\" + JSON.stringify(data));\n        var a = data;\n        if (a.success == true) {\n          var b = a.userdata;\n          var c = b.email;\n          localStorage['authh'] = 1;\n          localStorage['email'] = c;\n          localStorage['user_id'] = b._id;\n          localStorage['password'] = b.password;\n          localStorage['username'] = b.username;\n          localStorage['user_image'] = b.profileImage;\n          console.log('email' + c);\n          /* this.navCtrl.setRoot(TabsPage, {\n            userRegisterFirstTime: this.userRegisterFirstTime\n          }); */\n\t\t  if(this.navCtrl.parent !=null){\n                this.navCtrl.setRoot(TabsPage, {parent:0, userRegisterFirstTime: this.userRegisterFirstTime});\n\t\t\t\t}else{\n\t\t\t\t\tthis.navCtrl.setRoot(TabsPage, {userRegisterFirstTime: this.userRegisterFirstTime});\n\t\t\t\t}\n        } else {\n          let alert = this.alertCtrl.create({\n            title: 'Alert!',\n            subTitle: 'Please enter email or password !',\n            buttons: ['OK']\n          });\n          alert.present();\n          localStorage['authh'] = 0;\n          localStorage['email'] = '';\n        }\n\n      }),\n      error => {}\n  }\n\n  getStatusFOrdisabled(cpass) {\n    if (cpass == this.signup.password) {\n      return true\n    } else {\n      return false;\n    }\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts"],"sourceRoot":""}